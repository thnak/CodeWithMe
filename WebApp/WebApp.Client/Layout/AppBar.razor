@using AlignItems = MudBlazor.AlignItems
@using Color = MudBlazor.Color
@using MouseEvent = MudBlazor.MouseEvent


<MudAppBar Class="pr-6"
           Dense Elevation="1"
           Fixed >
    <MudIconButton Color="Color.Inherit"
                   Icon="@Icons.Material.Filled.Menu"
                   OnClick="@HandleDrawerOpen" />

    <MudSpacer />


    <MudStack AlignItems="AlignItems.Center" Row >
        <SectionOutlet SectionId="@TopBarSection1" />
        <SectionOutlet SectionId="@TopBarSection2" />

        <CultureSelector />

        <MudIconButton Class="blazor-SmAndDown-hidden" Color="Color.Inherit"
                       Icon="@(IsDarkMode.HasValue ? IsDarkMode.Value ? Icons.Material.Filled.DarkMode : Icons.Material.Filled.LightMode : Icons.Material.Filled.AutoMode)"
                       OnClick="@ThemeModeChanged" >
            @(IsDarkMode.HasValue ? IsDarkMode.Value ? AppLang.Dark_mode : AppLang.Light_mode : AppLang.System_preference)
        </MudIconButton>

        <MudMenu ActivationEvent="@MouseEvent.LeftClick" AnchorOrigin="Origin.BottomCenter"
                 TransformOrigin="Origin.TopRight" >
            <ActivatorContent>
                <MudBadge Bordered Class="d-flex"
                          Color="Color.Success" Dot
                          Overlap >
                    <MudAvatar>
                        <MudImage Alt="HubClientUser.Me.UserName"
                                  Src="" />
                    </MudAvatar>
                </MudBadge>
            </ActivatorContent>

            <ChildContent>
                <MudMenuItem Href="@PageRoutes.Account.Profile" Icon="@Icons.Material.Filled.AccountBox" IconColor="Color.Default" >
                    @AppLang.Profile
                </MudMenuItem>
                <MudMenuItem Icon="@Icons.Material.Filled.Logout" IconColor="Color.Default" OnClick="@LogOut" >
                    @AppLang.Logout
                </MudMenuItem>
            </ChildContent>
        </MudMenu>
    </MudStack>
</MudAppBar>

<style>
    .mud-badge.mud-badge-dot {
        height: 9px !important;
        width: 18px !important;
        border-radius: 999px !important;
        min-width: unset !important;
    }
</style>