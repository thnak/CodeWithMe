@using Color = MudBlazor.Color
@using Size = MudBlazor.Size
@rendermode InteractiveWebAssembly
@attribute [Route(PageRoutes.InternetOfThings.DeviceManagement)]
@attribute [Authorize]
@layout MainLayout

<PageTitle>@AppLang.DeviceManagement</PageTitle>

<div class="page-content-container">

    <MudDataGrid @ref="dataGrid" T="PageModel" ServerData="ServerReload" Filterable="false" Dense="true" Bordered="true" Culture="CultureInfo.CurrentCulture" Hover="true" Striped="true">
        <ToolBarContent>
            <MudText Typo="Typo.h6">@AppLang.DeviceManagement</MudText>
            <MudSpacer/>
            <MudAutocomplete T="string" @bind-Value="DeviceSearchString" SearchFunc="SearchDevice" Placeholder="Search"
                             Adornment="Adornment.Start" Margin="Margin.Dense"
                             AdornmentIcon="@Icons.Material.Filled.Search" IconSize="Size.Medium" Class="mt-0">
                <ProgressIndicatorTemplate>
                    <MudProgressLinear Size="Size.Small" Indeterminate="true" Color="Color.Success"/>
                </ProgressIndicatorTemplate>
            </MudAutocomplete>
            <MudButton StartIcon="@Icons.Material.Filled.Add" OnClick="OpenAddDialog">@AppLang.Add</MudButton>
        </ToolBarContent>
        <Columns>
            <PropertyColumn Property="x => x.Device.DeviceId" Title="Nr"/>
            <PropertyColumn Property="x => x.Device.DeviceName"/>
            <PropertyColumn Property="x => x.Device.Location"/>
            <PropertyColumn Property="x => x.Device.IpAddress"/>
            <PropertyColumn Property="x => x.Device.MacAddress" Title="Molar mass"/>
            <PropertyColumn Property="x => x.Device.Status" Title="Category"/>
        </Columns>
        <PagerContent>
            <MudDataGridPager T="PageModel"/>
        </PagerContent>
    </MudDataGrid>

</div>